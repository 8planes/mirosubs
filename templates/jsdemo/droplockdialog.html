{% extends "jsdemo/base_demo.html" %}
{% block body %}
<a href="#" id="openDropLockDialog">open drop lock dialog</a>
<!-- Event log. -->
<fieldset class="goog-debug-panel">
  <legend>Event Log</legend>
  <div id="log" style="height: 300px; overflow-y: auto"></div>
</fieldset>
<div id="perf"></div> 
<script type="text/javascript">
  goog.debug.LogManager.getRoot().setLevel(goog.debug.Logger.Level.ALL);
  var logger = goog.debug.Logger.getLogger('FakeServerModel');
  var logConsole = new goog.debug.DivConsole(goog.dom.$('log'));

  logConsole.setCapturing(true);


  function FakeServerModel() {};
  FakeServerModel.prototype.stopTimer = function() {
      logger.info('stopTimer called');
  };
  FakeServerModel.prototype.getDraftPK = function() {
      return 1;
  };

  function openDropLockDialog() {
      var serverModel = new FakeServerModel();
      var jsonSubs = "sadfdsf";
      var dialog = new mirosubs.widget.DropLockDialog(serverModel, jsonSubs);
      dialog.setVisible(true);
  }
  goog.events.listen(document.getElementById('openDropLockDialog'), 'click',
      function(e) {
          e.preventDefault();
          openDropLockDialog();
      });
</script>
{% endblock %}
